{"version":3,"sources":["../../src/routes/barter.route.js"],"names":["router","Router","route","get","findAll","post","createBarter","findById","put","updateBarter","delete","deleteBarter","use"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AACA,IAAMA,SAAS,kBAAQC,MAAR,EAAf;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DAD,OAAOE,KAAP,CAAa,GAAb,EACKC,GADL,CACS,iBAAiBC,OAD1B,EAEKC,IAFL,CAEU,iBAAiBC,YAF3B;;AAIA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiFA;;;;;;;;;;;;;;;;;;;;AAoBAN,OAAOE,KAAP,CAAa,MAAb,EACKC,GADL,CACS,iBAAiBI,QAD1B,EAEKC,GAFL,CAES,iBAAiBC,YAF1B,EAGKC,MAHL,CAGY,iBAAiBC,YAH7B;;AAMAX,OAAOY,GAAP;;kBAEeZ,M","file":"barter.route.js","sourcesContent":["import express from \"express\";\nimport BarterController from \"../controllers/barter.controller\";\nimport barterOfferRoute from \"./barter-offer.route\" ;\nconst router = express.Router();\n\n/**\n* @swagger\n* definitions:\n*   Barter:\n*     type: \"object\"\n*     required:\n*     - \"title\"\n*     - \"description\"\n*     - \"neededProduct\"\n*     - \"relatedUser\"\n*     - \"relatedCategory\"\n*     properties:\n*       id:\n*         type: string\n*         readOnly: true\n*       title:\n*         type: string\n*       description:\n*         type: string\n*       neededProduct:\n*         type: string\n*       relatedUser:\n*         type: string\n*       relatedCategory:\n*         type: string\n*       type:\n*         type: string\n*         enum:\n*         - \"TEMP\"\n*         - \"PERM\"\n*       imgs:\n*         type: array\n*         items:\n*           type: string\n*           format: \"base64\"\n*       finished:\n*         type: boolean\n*         default: false\n*         readOnly: true\n*       barterOffer:\n*         type: string\n*         readOnly: true\n*       creationDate:\n*         type: string\n*         format: date-time\n*         readOnly: true\n*     \n*/\n\n/**\n * @swagger\n * /barters:\n *   get:\n *     tags:\n *       - Barters\n *     summary: Get all barters\n *     produces:\n *       - application/json\n *     parameters:\n *       - name: \"page\"\n *         in: \"query\"\n *         type: number\n *         default: 1\n *       - name: \"limit\"\n *         in: \"query\"\n *         type: number\n *         default: 20\n *       - name: \"categories\"\n *         in: \"query\"\n *         type: string\n *         description: \"EX: id1,id2,id3\"\n *       - name: \"type\"\n *         in: \"query\"\n *         type: string\n *         description: TEMP - PERM\n *       - name: \"finished\"\n *         in: \"query\"\n *         type: boolean\n *         description: true - false\n *     responses:\n *       200:\n *         description: Get An Array of Barters\n *         example: \n *               {\n *                   \"links\": {\n *                       \"self\": \"http://localhost:3000/api/v1/barters?page=1&limit=2\",\n *                       \"next\": \"http://localhost:3000/api/v1/barters?page=2&limit=2\",\n *                       \"last\": \"http://localhost:3000/api/v1/barters?page=5&limit=2\"\n *                   },\n *                   \"data\": [\n *                       {\n *                           \"title\": \"اقف4الا\",\n *                           \"description\": \"5ا54ا\",\n *                           \"neededProduct\": \"ا45ا\",\n *                           \"relatedCategory\": {\n *                               \"name\": \"اكسسوارات\",\n *                               \"id\": \"5a2443740b92ff001421a3b8\"\n *                           },\n *                           \"relatedUser\": {\n *                               \"email\": \"mish@mish.com\",\n *                               \"fullName\": \"miso\",\n *                               \"phone\": \"123456\",\n *                               \"country\": \"السعودية\",\n *                               \"address\": \"جدة\",\n *                               \"img\": \"http://kayed-api.herokuapp.com/uploads/5a284d13656ea20014103b22.jpeg\",\n *                               \"id\": \"5a284d13656ea20014103b22\"\n *                           },\n *                           \"creationDate\": \"2017-12-06T20:04:18.390Z\",\n *                           \"finished\": false,\n *                           \"imgs\": [\n *                               \"http://kayed-api.herokuapp.com/uploads/barters/5a284d42656ea20014103b230.jpeg\"\n *                           ],\n *                           \"type\": \"TEMP\",\n *                           \"id\": \"5a284d42656ea20014103b23\",\n *                           \"inMyOffers\": true,\n *                           \"inMyFavourites\": false\n *                       },\n *                       {\n *                           \"title\": \"Samsung Note 8\",\n *                           \"description\": \"This is a description for new mobile phone of samsung\",\n *                           \"neededProduct\": \"Iphone x\",\n *                           \"relatedUser\": {\n *                               \"fullName\": \"Magdyxy\",\n *                               \"email\": \"x2x@x2x.com\",\n *                               \"address\": \"82 Fatma\",\n *                               \"phone\": \"01157954393\",\n *                               \"country\": \"Egypt\",\n *                               \"id\": \"5a23d9a74bc62c0014489e3b\"\n *                           },\n *                           \"relatedCategory\": {\n *                               \"name\": \"موبايلات\",\n *                               \"id\": \"5a24430e4311cd0014c1bfba\"\n *                           },\n *                           \"creationDate\": \"2017-12-06T21:02:28.264Z\",\n *                           \"finished\": false,\n *                           \"imgs\": [\n *                               \"http://localhost:3000/uploads/barters/5a285ae4b23b592ca4bf42030.jpeg\"\n *                           ],\n *                           \"type\": \"TEMP\",\n *                           \"id\": \"5a285ae4b23b592ca4bf4203\",\n *                           \"inMyOffers\": true,\n *                           \"inMyFavourites\": false\n *                       }\n *                   ],\n *                   \"page\": 1,\n *                   \"pageCount\": 5,\n *                   \"limit\": 2,\n *                   \"totalCount\": 10\n *               }\n */\n\n/**\n * @swagger\n * /barters:\n *   post:\n *     tags:\n *       - Barters\n *     summary: Add a new barter\n *     produces:\n *       - application/json\n *     parameters:\n *       - name: body\n *         description: Barter Object\n *         in: body\n *         required: true\n *         schema:\n *           $ref: '#/definitions/Barter'   \n *     responses:\n *       201:\n *         description: Return Created Barter\n *         example:           \n *               {\n *                   \"title\": \"Samsung Note 8\",\n *                   \"description\": \"This is a description for new mobile phone of samsung\",\n *                   \"neededProduct\": \"Iphone x\",\n *                   \"relatedUser\": {\n *                       \"fullName\": \"magdy\",\n *                       \"email\": \"demo@demo.com\",\n *                       \"address\": \"82Fatma El zhraa\",\n *                       \"phone\": \"01157954393\",\n *                       \"country\": \"egypt\",\n *                       \"id\": \"5a1db2b8a3c9862828910bef\"\n *                   },\n *                   \"relatedCategory\": {\n *                       \"name\": \"mobiles\",\n *                       \"id\": \"5a1db3a29246d21c0c4056cf\"\n *                   },\n *                   \"creationDate\": \"2017-12-03T12:15:05.679Z\",\n *                   \"finished\": false,\n *                   \"imgs\": [],\n *                   \"type\": \"TEMP\",\n *                   \"id\": \"5a23eac99c10230a8c3e6cc5\"\n *               }\n *       422:\n *         description: |\n *              - titles is Required\n *              - description is Required\n *              - neededProduct is Required\n *              ----------------------------\n *              - relatedUser is Required \n *              - User doesn't exist\n *              ----------------------------\n *              - relatedCategory is Required \n *              - Category doesn't exist\n *              ----------------------------\n *              - Optional type: type of barter should be 'TEMP' OR 'PERM'\n *              - Optional finished: finished should be true or false\n *              - Optional imgs : Imgs should be an array of strings 'images 64base\n */\n\n\n\nrouter.route('/')\n    .get(BarterController.findAll)\n    .post(BarterController.createBarter)\n\n/**\n * @swagger\n * /barters/{id}:\n *   get:\n *     tags:\n *       - Barters\n *     summary: Get a sepcific barter\n *     produces:\n *       - application/json\n *     parameters:\n *       - name: id\n *         in: path\n *         required: true\n *         type: string\n *     responses:\n *       200:\n *         description: Get a barter\n *         example: \n *               {\n *                   \"title\": \"Samsung Note 8\",\n *                   \"description\": \"This is a description for new mobile phone of samsung\",\n *                   \"neededProduct\": \"Iphone x\",\n *                   \"relatedUser\": {\n *                       \"fullName\": \"Magdyxy\",\n *                       \"email\": \"x2x@x2x.com\",\n *                       \"address\": \"82 Fatma\",\n *                       \"phone\": \"01157954393\",\n *                       \"country\": \"Egypt\",\n *                       \"id\": \"5a23d9a74bc62c0014489e3b\"\n *                   },\n *                   \"relatedCategory\": {\n *                       \"name\": \"موبايلات\",\n *                       \"id\": \"5a24430e4311cd0014c1bfba\"\n *                   },\n *                   \"creationDate\": \"2017-12-06T21:02:28.264Z\",\n *                   \"finished\": false,\n *                   \"imgs\": [\n *                       \"http://localhost:3000/uploads/barters/5a285ae4b23b592ca4bf42030.jpeg\"\n *                   ],\n *                   \"type\": \"TEMP\",\n *                   \"id\": \"5a285ae4b23b592ca4bf4203\",\n *                   \"inMyOffers\": false,\n *                   \"inMyFavourites\": true\n *               }\n *       404:\n *         description:  Barter Not Found\n*/\n\n/**\n * @swagger\n * /barters/{id}:\n *   put:\n *     tags:\n *       - Barters\n *     summary: Update an existing barter\n *     produces:\n *       - application/json\n *     parameters:\n *       - name: id\n *         in: path\n *         required: true\n *         type: string\n *       - name: body\n *         description: Barter Object\n *         in: body\n *         required: true\n *         schema:\n *           $ref: '#/definitions/Barter'   \n *     responses:\n *       201:\n *         description: Return Updated Barter\n *         example:           \n *               {\n *                   \"title\": \"Samsung A\",\n *                   \"description\": \"assasasaasasas\",\n *                   \"neededProduct\": \"AAAAK\",\n *                   \"relatedUser\": {\n *                       \"fullName\": \"Magdyxy\",\n *                       \"email\": \"x2x@x2x.com\",\n *                       \"address\": \"82 Fatma\",\n *                       \"phone\": \"01157954393\",\n *                       \"country\": \"Egypt\",\n *                       \"id\": \"5a23d9a74bc62c0014489e3b\"\n *                   },\n *                   \"relatedCategory\": {\n *                       \"name\": \"موبايلات\",\n *                       \"id\": \"5a24430e4311cd0014c1bfba\"\n *                   },\n *                   \"barterOffer\": {\n *                       \"relatedUser\": \"5a1db2b8a3c9862828910bef\",\n *                       \"description\": \"Samsung Note A\",\n *                       \"offeredProduct\": \"LG TV 2017\",\n *                       \"relatedBarter\": \"5a249e4148d6362638faeb9d\",\n *                       \"status\": \"DONE\",\n *                       \"imgs\": [\n *                           \"http://localhost:3000/uploads/barter-offers/5a2532c7cb4ed22fc0831e610.jpeg\"\n *                       ],\n *                       \"creationDate\": \"2017-12-04T11:34:31.576Z\",\n *                       \"id\": \"5a2532c7cb4ed22fc0831e61\"\n *                   },\n *                   \"creationDate\": \"2017-12-04T01:00:49.846Z\",\n *                   \"finished\": true,\n *                   \"imgs\": [\n *                       \"http://localhost:3000/uploads/barters/5a249e4148d6362638faeb9d0.jpeg\"\n *                   ],\n *                   \"type\": \"TEMP\",\n *                   \"id\": \"5a249e4148d6362638faeb9d\",\n *                   \"inMyOffers\": true,\n *                   \"inMyFavourites\": false\n *               }\n *       404:\n *         description:  Barter Not Found\n *       422:\n *         description: |\n *              - titles is Required\n *              - description is Required\n *              - neededProduct is Required\n *              ----------------------------\n *              - relatedUser is Required \n *              - User doesn't exist\n *              ----------------------------\n *              - relatedCategory is Required \n *              - Category doesn't exist\n *              ----------------------------\n *              - Optional type: type of barter should be 'TEMP' OR 'PERM'\n *              - Optional finished: finished should be true or false\n *              - Optional imgs : Imgs should be an array of strings 'images 64base\n */\n\n/**\n * @swagger\n * /barters/{id}:\n *   delete:\n *     tags:\n *       - Barters\n *     summary: Delete a barter\n *     produces:\n *       - application/json\n *     parameters:\n *       - name: id\n *         in: path\n *         required: true\n *         type: string\n *     responses:\n *       204:\n *         description: Successed. No Content\n *       404:\n *         description: Barter Not Found\n*/\nrouter.route('/:id')\n    .get(BarterController.findById)\n    .put(BarterController.updateBarter)\n    .delete(BarterController.deleteBarter);\n\n\nrouter.use(barterOfferRoute)\n\nexport default router;\n"]}